# Hướng dẫn Toàn diện về Tự động hóa PPC (Comprehensive PPC Automation Guide)

## 1. Giới thiệu - Sức mạnh của Tự động hóa

Chào mừng bạn đến với **Automation Center**, trung tâm điều khiển mạnh mẽ được thiết kế để giúp bạn tiết kiệm thời gian, giảm chi tiêu lãng phí và tối ưu hóa hiệu suất quảng cáo 24/7. Thay vì phải kiểm tra và điều chỉnh thủ công hàng ngày, bạn có thể thiết lập các "luật" (rules) thông minh để hệ thống tự động làm việc thay bạn, dựa trên các mục tiêu kinh doanh thực tế của bạn.

Công cụ này cho phép bạn thực hiện các loại tự động hóa chính:

1.  **Điều chỉnh Bid (Bid Adjustment):** Tự động tăng hoặc giảm giá thầu của từ khóa/mục tiêu dựa trên các chỉ số hiệu suất như ACOS, ROAS, Lợi nhuận, Tỷ lệ chuyển đổi, v.v.
2.  **Quản lý Search Term (Search Term Management):** Tự động phân tích các cụm từ tìm kiếm của khách hàng để **phủ định** những cụm từ không hiệu quả hoặc **"thu hoạch"** những cụm từ vàng để mở rộng quy mô.
3.  **Tăng tốc Ngân sách (Budget Acceleration):** Tự động tăng ngân sách cho các chiến dịch đang hoạt động cực kỳ hiệu quả trong ngày để không bỏ lỡ doanh thu tiềm năng.
4.  **Điều chỉnh Giá (Price Adjustment):** Tự động điều chỉnh giá bán sản phẩm theo một lịch trình và quy tắc định sẵn.

Tài liệu này sẽ giải thích các khái niệm cốt lõi, hướng dẫn bạn cách xác định các chỉ số kinh doanh quan trọng, và cung cấp các ví dụ thực tế để bạn có thể bắt đầu ngay lập tức.

---

## 2. Các Khái niệm Cốt lõi (Core Concepts)

Để sử dụng công cụ hiệu quả, bạn cần nắm vững các khái niệm sau:

### 2.1. Rule (Luật)

Một **Rule** là một "container" chứa đựng một chiến lược tự động hóa hoàn chỉnh. Mỗi rule có:
-   Một cái tên (ví dụ: "Tối ưu hóa Bid theo Lợi nhuận").
-   Một loại hình (Bid Adjustment, Search Term, Budget Acceleration, Price Adjustment).
-   Một hoặc nhiều nhóm điều kiện logic.
-   Các cài đặt về tần suất chạy và phạm vi áp dụng.

### 2.2. Condition Group (Nhóm Điều kiện - Logic IF/THEN)

Đây là trái tim của mỗi rule, hoạt động giống như một khối lệnh `IF ... THEN ...`:
-   **IF (NẾU):** Bao gồm một hoặc nhiều điều kiện được kết nối bằng logic **AND**. Tất cả các điều kiện trong nhóm này phải được thỏa mãn.
-   **THEN (THÌ):** Bao gồm một hành động cụ thể sẽ được thực thi khi khối `IF` là đúng.

### 2.3. Cấu trúc Rule Nhiều tầng và Nguyên tắc "First Match Wins"

Đây là nguyên tắc **quan trọng nhất** bạn cần ghi nhớ khi một Rule có nhiều Nhóm Điều kiện (các khối `OR IF`).

1.  **Thứ tự là trên hết:** Hệ thống sẽ luôn đánh giá các nhóm điều kiện theo thứ tự bạn sắp xếp chúng, **từ trên xuống dưới**.
2.  **Dừng lại khi tìm thấy:** Ngay khi một từ khóa/mục tiêu thỏa mãn tất cả các điều kiện trong một nhóm, hệ thống sẽ thực hiện hành động của **chỉ nhóm đó** và **ngừng xử lý** thực thể đó. Nó sẽ không xét đến các nhóm bên dưới nữa.

> #### Ví dụ về Cấu trúc Rule Nhiều tầng
>
> **Mục tiêu:** Tối ưu hóa giá thầu cho một sản phẩm có ACoS mục tiêu là 30%.
>
> **Cấu trúc Rule (từ trên xuống dưới):**
> 1.  `IF clicks > 15 AND orders = 0 (trong 30 ngày qua)`
>     `THEN Decrease bid by 50%`  
>     *(Ưu tiên cao nhất: Cắt lỗ ngay lập tức các từ khóa không ra đơn hàng)*
>
> 2.  `OR IF ACOS > 50% (trong 30 ngày qua)`
>     `THEN Decrease bid by 25%`  
>     *(Hành động mạnh mẽ cho các từ khóa có ACoS rất cao)*
>
> 3.  `OR IF ACOS > 35% (trong 14 ngày qua)`
>     `THEN Decrease bid by 10%`  
>     *(Điều chỉnh nhẹ cho các từ khóa có ACoS hơi cao hơn mục tiêu)*
>
> 4.  `OR IF ACOS < 20% AND orders > 2 (trong 14 ngày qua)`
>     `THEN Increase bid by 5%`  
>     *(Tăng trưởng cho các từ khóa đang hoạt động rất tốt)*
>
> **Kịch bản hoạt động:**
> -   **Từ khóa A (ACOS 60%):** Hệ thống kiểm tra điều kiện 1 (giả sử có đơn hàng nên không thỏa mãn). Tiếp tục kiểm tra điều kiện 2. `60% > 50%` là đúng. Hệ thống sẽ **giảm bid 25%** và **dừng lại**. Các điều kiện 3 và 4 sẽ không được xem xét.
> -   **Từ khóa B (ACOS 40%):** Hệ thống kiểm tra điều kiện 1 và 2 (không thỏa mãn). Tiếp tục kiểm tra điều kiện 3. `40% > 35%` là đúng. Hệ thống sẽ **giảm bid 10%** và **dừng lại**.
> -   **Từ khóa C (ACOS 15%, 3 đơn hàng):** Hệ thống kiểm tra điều kiện 1, 2, 3 (không thỏa mãn). Tiếp tục kiểm tra điều kiện 4. `15% < 20%` và `3 > 2` đều đúng. Hệ thống sẽ **tăng bid 5%** và **dừng lại**.
>
> **Quy tắc vàng:** Đặt các luật **cụ thể nhất** và có mức độ ưu tiên cao nhất (ví dụ: giảm bid mạnh nhất) ở trên cùng. Các luật chung chung hơn nên được đặt ở dưới.

---

## 3. Nền tảng Chiến lược

### 3.1. Tính toán ACoS Hòa vốn & ACoS Mục tiêu

Trước khi tạo bất kỳ rule nào, bạn phải trả lời câu hỏi quan trọng nhất: "Với mỗi sản phẩm, tôi có thể chi bao nhiêu cho quảng cáo mà vẫn có lãi?" Câu trả lời chính là **ACoS Hòa vốn (Break-Even ACoS)**.

**Công thức:**
`ACoS Hòa vốn = Lợi nhuận trước Chi phí Quảng cáo / Giá bán sản phẩm`

**Ví dụ:**
-   **Sản phẩm A:** Giá bán $19.99, Cost $5.00, Phí Amazon $6.00
-   **Lợi nhuận trước quảng cáo:** $19.99 - $5.00 - $6.00 = $8.99
-   **ACoS Hòa vốn:** $8.99 / $19.99 ≈ **45%**

**ACoS Mục tiêu (Target ACoS)** phải **thấp hơn** ACoS Hòa vốn để đảm bảo có lợi nhuận. Ví dụ, với sản phẩm A, bạn có thể đặt ACoS Mục tiêu là **30%**.

### 3.2. Xác định Ngưỡng Click Hòa Vốn (Break-Even Clicks)

Khi tạo các rule phủ định, bạn thường thấy các điều kiện như `IF clicks > 12 AND orders = 0`. Nhưng tại sao lại là số 12? Việc chọn một con số tùy ý có thể khiến bạn phủ định các từ khóa quá sớm (bỏ lỡ cơ hội) hoặc quá muộn (lãng phí tiền).

Cách tiếp cận của chuyên gia là sử dụng **Tỷ lệ Chuyển đổi (Conversion Rate - CVR)** để xác định một ngưỡng click hợp lý về mặt thống kê.

**Công thức:**
`Ngưỡng Click = 1 / Tỷ lệ Chuyển đổi mục tiêu`

**Giải thích:**
-   Nếu tỷ lệ chuyển đổi (CVR) trung bình của sản phẩm bạn là **8%** (tức là cứ 100 clicks thì có 8 đơn hàng), thì về mặt lý thuyết, bạn cần `1 / 0.08 = 12.5` lượt nhấp để có một đơn hàng.
-   Điều này có nghĩa là, nếu một từ khóa nhận được **13-15 clicks** mà vẫn không có đơn hàng nào, nó đang hoạt động kém hơn mức trung bình và đó là một dấu hiệu mạnh mẽ để xem xét hành động (giảm bid hoặc phủ định).

---

## 4. Tự động hóa Điều chỉnh Bid (Bid Adjustment)

-   **Mục tiêu:** Tự động tăng hoặc giảm giá thầu của từ khóa/mục tiêu để đạt được ACoS mục tiêu.
-   **Nguồn dữ liệu:**
    -   **Sponsored Products (SP):** Sử dụng mô hình hybrid, kết hợp dữ liệu từ báo cáo lịch sử và dữ liệu stream thời gian thực để lấp đầy những ngày bị trễ, đảm bảo phân tích luôn dựa trên bộ dữ liệu hoàn chỉnh.
    -   **Sponsored Brands (SB) & Sponsored Display (SD):** Chỉ sử dụng dữ liệu stream thời gian thực.

#### 4.1. Các chỉ số trong điều kiện "IF"
Bạn có thể xây dựng logic dựa trên các chỉ số hiệu suất sau, được tính toán trong một khoảng thời gian (`timeWindow`) bạn chọn (ví dụ: 7, 14, 30 ngày qua):
-   `spend`: Tổng chi tiêu.
-   `sales`: Tổng doanh số.
-   `acos`: Advertising Cost of Sales.
-   `orders`: Tổng số đơn hàng.
-   `clicks`: Tổng số lượt nhấp.
-   `impressions`: Tổng số lượt hiển thị.
-   `roas`: Return on Ad Spend.

#### 4.2. Các hành động trong "THEN"
Khi điều kiện được thỏa mãn, bạn có thể thực hiện một trong các hành động sau:
-   `Increase Bid by %` (Tăng bid theo %): Tăng giá thầu hiện tại lên một tỷ lệ phần trăm. Ví dụ: `value: 10` sẽ tăng bid lên 10%.
-   `Decrease Bid by %` (Giảm bid theo %): Giảm giá thầu hiện tại đi một tỷ lệ phần trăm. Ví dụ: `value: 15` sẽ giảm bid đi 15%.
-   `Increase Bid by $` (Tăng bid theo số tiền): Tăng giá thầu hiện tại thêm một số tiền cố định. Ví dụ: `value: 0.10` sẽ tăng bid thêm $0.10.
-   `Decrease Bid by $` (Giảm bid theo số tiền): Giảm giá thầu hiện tại đi một số tiền cố định. Ví dụ: `value: 0.05` sẽ giảm bid đi $0.05.

---

## 5. Tự động hóa Quản lý Search Term (SP)

### 5.1. Phủ định Search Term (Negation)

-   **Mục tiêu:** Giữ cho các chiến dịch luôn "sạch sẽ" bằng cách tự động loại bỏ các cụm từ tìm kiếm không liên quan hoặc không hiệu quả.
-   **Nguồn dữ liệu:** Chỉ sử dụng dữ liệu từ `sponsored_products_search_term_report` (có độ trễ 2 ngày) để đảm bảo các quyết định dựa trên dữ liệu đã hoàn chỉnh và chính xác.

#### Các chỉ số trong điều kiện "IF"
Tương tự như Điều chỉnh Bid, bạn có thể sử dụng các chỉ số: `spend`, `sales`, `acos`, `orders`, `clicks`.

#### Các hành động trong "THEN"
-   `Negate Search Term`: Phủ định cụm từ tìm kiếm.
    -   `Negative Exact`: Phủ định chính xác cụm từ đó.
    -   `Negative Phrase`: Phủ định cụm từ đó dưới dạng cụm từ.

### 5.2. Thu hoạch Search Term (Harvesting)

-   **Mục tiêu:** Tự động "thu hoạch" các search term hiệu quả từ các chiến dịch khám phá (Auto, Broad) và chuyển chúng thành từ khóa chính xác trong các chiến dịch hiệu suất cao.
-   **Nguồn dữ liệu:** Chỉ sử dụng dữ liệu từ `sponsored_products_search_term_report`.
-   **Quy trình:**
    1.  **Đánh giá:** Tìm các search term thỏa mãn điều kiện bạn đặt ra (ví dụ: `orders > 2` và `acos < 25%`).
    2.  **Tạo mới (Harvest):** Tự động tạo một Campaign và Ad Group mới với tên được cấu trúc hợp lý (ví dụ: `[H] - [ASIN] - [Search Term]`).
    3.  **Thêm Target:** Thêm search term đó làm từ khóa `Exact` (hoặc `Product Target` nếu là ASIN) vào Ad Group mới, với giá thầu được tính toán thông minh.
    4.  **Phủ định (Negate):** Tự động thêm search term đó làm `Negative Exact` vào Ad Group **gốc** để tránh chi tiêu chồng chéo.

---

## 6. Tự động hóa Tăng tốc Ngân sách (Budget Acceleration)

-   **Mục tiêu:** Tự động tăng ngân sách cho các chiến dịch đang hoạt động cực kỳ hiệu quả **trong ngày** để không bỏ lỡ doanh thu.
-   **Nguồn dữ liệu:** Chỉ sử dụng dữ liệu từ `raw_stream_events` (dữ liệu từ đầu ngày hôm nay cho đến thời điểm hiện tại).

#### Các chỉ số trong điều kiện "IF"
Các chỉ số này được tính toán cho `Today (so far)`:
-   `acos`: ACoS trong ngày.
-   `roas`: RoAS trong ngày.
-   `sales`: Doanh số trong ngày.
-   `orders`: Đơn hàng trong ngày.
-   `budgetUtilization`: Tỷ lệ phần trăm ngân sách đã sử dụng trong ngày.

#### Các hành động trong "THEN"
-   `Increase Budget by %`: Tăng ngân sách của ngày hôm đó lên một tỷ lệ phần trăm.
-   `Set Budget to $`: Đặt ngân sách của ngày hôm đó thành một số tiền cố định.
> **Lưu ý:** Ngân sách sẽ tự động được khôi phục về giá trị ban đầu vào cuối ngày.

---

## 7. Tự động hóa Điều chỉnh Giá (Price Adjustment)

-   **Mục tiêu:** Tự động điều chỉnh giá bán của sản phẩm theo một lịch trình và chiến lược định sẵn.
-   **Quy trình:**
    1.  **Lịch trình:** Rule chạy vào một thời điểm cố định mỗi ngày (ví dụ: 02:00 AM).
    2.  **Điều chỉnh:** Hệ thống lấy giá hiện tại của SKU được chỉ định và tăng/giảm theo một bước giá (`priceStep`).
    3.  **Giới hạn & Đặt lại:** Nếu giá mới đạt hoặc vượt qua một giới hạn (`priceLimit`), hệ thống sẽ thực hiện một hành động đặt lại đặc biệt. Logic hiện tại là: `giá_đặt_lại = giá_hiện_tại - $0.50`.

---

## 8. Tư duy Chiến lược Nâng cao

### 8.1. TACOS (Total ACoS) - Chỉ số Sức khỏe Thực sự

-   **ACoS (Advertising Cost of Sales):** `Chi tiêu Quảng cáo / Doanh số từ Quảng cáo`. Chỉ số này đo lường hiệu quả của **chỉ riêng quảng cáo**.
-   **TACOS (Total Advertising Cost of Sales):** `Chi tiêu Quảng cáo / TỔNG Doanh số (cả quảng cáo và organic)`. Chỉ số này đo lường **tác động tổng thể** của quảng cáo lên toàn bộ doanh nghiệp của bạn.

**Tại sao TACOS quan trọng?**
Mục tiêu cuối cùng của quảng cáo là tạo ra "flywheel effect" (hiệu ứng bánh đà): quảng cáo thúc đẩy doanh số, tăng thứ hạng organic, từ đó dẫn đến nhiều doanh số organic hơn. Một chiến dịch tốt có thể có ACoS tăng nhẹ, nhưng lại kéo doanh số organic tăng mạnh, dẫn đến **TACOS giảm**. Đây là một dấu hiệu cực kỳ tốt.

### 8.2. Bảo vệ các Từ khóa Chiến lược & Impression Share

Không phải tất cả các từ khóa đều được tạo ra như nhau.
-   **Từ khóa "Thương hiệu" (Branded Keywords):** Ví dụ "Nike shoes".
-   **Từ khóa "Hạng mục chính" (Main Category Keywords):** Ví dụ "running shoes for men".

Các từ khóa này có thể có ACoS cao hơn mục tiêu, nhưng việc giảm bid của chúng có thể là một sai lầm, khiến bạn mất **Impression Share** (tỷ lệ hiển thị) và nhường sân chơi cho đối thủ.

> **Lời khuyên của Chuyên gia:**
> 1.  **Tạo các Chiến dịch riêng:** Hãy tạo các chiến dịch riêng cho các từ khóa "Thương hiệu" và "Chiến lược".
> 2.  **Không áp dụng Rule quá mạnh:** **KHÔNG** áp dụng các rule giảm bid quá "hung hăng" cho các chiến dịch này. Mục tiêu ở đây là duy trì sự hiện diện và vị trí hàng đầu.